{
  "_format": "hh-sol-artifact-1",
  "contractName": "RNG",
  "sourceName": "contracts/infrastructure/RNG.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_registry",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "_domain",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "digest",
          "type": "bytes32"
        }
      ],
      "name": "Committed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "s",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "t",
          "type": "uint256"
        }
      ],
      "name": "Revealed",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "digest",
          "type": "bytes"
        }
      ],
      "name": "batchCommit",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "digest",
          "type": "bytes32"
        }
      ],
      "name": "commit",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "digest",
          "type": "bytes32"
        }
      ],
      "name": "getDataByDigest",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "index",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "digest",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "secret",
              "type": "bytes32"
            }
          ],
          "internalType": "struct RNG.CommitSchemeData",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "getDataByIndex",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "index",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "digest",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "secret",
              "type": "bytes32"
            }
          ],
          "internalType": "struct RNG.CommitSchemeData",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getDomain",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getProgess",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "remaining",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "total",
              "type": "uint256"
            }
          ],
          "internalType": "struct RNG.CommitSchemeProgess",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getRegistry",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "reveal",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610ff0380380610ff083398101604081905261002f916100d6565b6100398282610041565b505050610110565b60015460009015801561005d57506000546001600160a01b0316155b6100ad5760405162461bcd60e51b815260206004820181905260248201527f557365723a2049742773206f6e6c792061626c6520746f20736574206f6e6365604482015260640160405180910390fd5b50600080546001600160a01b0384166001600160a01b0319909116179055600181815592915050565b600080604083850312156100e957600080fd5b82516001600160a01b038116811461010057600080fd5b6020939093015192949293505050565b610ed18061011f6000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c80638e5c50c51161005b5780638e5c50c514610187578063b68d1809146101aa578063f14fcbc8146101b2578063fca0a91c146101c557600080fd5b80631279b8b11461008d578063321489d4146100d05780635ab1bd531461014b57806372f12a5d14610166575b600080fd5b6040805180820182526000808252602091820152815180830183526003548082526002549183019182528351908152905191810191909152015b60405180910390f35b6101296100de366004610c15565b60408051606080820183526000808352602080840182905292840181905283519182018452848252848152600483528381205482840152938452600690915291819020549082015290565b60408051825181526020808401519082015291810151908201526060016100c7565b6000546040516001600160a01b0390911681526020016100c7565b610179610174366004610ca0565b610228565b6040519081526020016100c7565b61019a610195366004610c2e565b6105c8565b60405190151581526020016100c7565b600154610179565b6101796101c0366004610c15565b610777565b6101296101d3366004610c15565b6040805160608082018352600080835260208084018290529284018190529384526005825282842054835191820184528082528085526004835283852054828401528452600690915291819020549082015290565b600080546001546040516369d1cb4360e11b81526004810191909152654f7261636c6560d01b60248201819052916001600160a01b03169063d3a396869060440160206040518083038186803b15801561028157600080fd5b505afa158015610295573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102b99190610bca565b6001600160a01b0316336001600160a01b0316146102f25760405162461bcd60e51b81526004016102e990610da6565b60405180910390fd5b6054835110156103445760405162461bcd60e51b815260206004820181905260248201527f524e473a20496e7075742064617461206861732077726f6e6720666f726d617460448201526064016102e9565b60006103508482610848565b9050600061035f8560146108cf565b9050600061036e8660346108cf565b90506000806001600360008282546103869190610e18565b90915550505060008381526006602052604090819020549083901c915067ffffffffffffffff831690156103fc5760405162461bcd60e51b815260206004820152601d60248201527f526e673a205468697320736563726574207761732072657665616c656400000060448201526064016102e9565b6000848152600460209081526040918290205482519182018690529101604051602081830303815290604052805190602001201461047c5760405162461bcd60e51b815260206004820181905260248201527f526e673a2053656372657420646f65736e2774206d617463682064696765737460448201526064016102e9565b60008481526006602052604090208390556001600160a01b0385161561058d57846001600160a01b0316634122f9976104c56034808c516104bd9190610e18565b8c9190610953565b6040518263ffffffff1660e01b81526004016104e19190610d51565b602060405180830381600087803b1580156104fb57600080fd5b505af115801561050f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105339190610bf3565b61058d5760405162461bcd60e51b815260206004820152602560248201527f524e473a2043616e277420646f2063616c6c6261636b20746f20646973747269604482015264313aba37b960d91b60648201526084016102e9565b8082857f7162321ecace9c982905ec8d8000eb292887b6befedc98e18dbb27fa95e752d760405160405180910390a450919695505050505050565b600080546001546040516369d1cb4360e11b81526004810191909152654f7261636c6560d01b60248201819052916001600160a01b03169063d3a396869060440160206040518083038186803b15801561062157600080fd5b505afa158015610635573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106599190610bca565b6001600160a01b0316336001600160a01b0316146106895760405162461bcd60e51b81526004016102e990610da6565b60006106ca85858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610a4492505050565b905060005b815181101561076b5760006106fc8383815181106106ef576106ef610e6f565b6020026020010151610b3e565b116107595760405162461bcd60e51b815260206004820152602760248201527f524e473a20556e61626c6520746f206164642064696765737420746f20626c6f60448201526631b5b1b430b4b760c91b60648201526084016102e9565b610764600182610dec565b90506106cf565b50600195945050505050565b600080546001546040516369d1cb4360e11b81526004810191909152654f7261636c6560d01b60248201819052916001600160a01b03169063d3a396869060440160206040518083038186803b1580156107d057600080fd5b505afa1580156107e4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108089190610bca565b6001600160a01b0316336001600160a01b0316146108385760405162461bcd60e51b81526004016102e990610da6565b61084183610b3e565b9392505050565b8151600090610858836014610dec565b11156108c35760405162461bcd60e51b815260206004820152603460248201527f42797465733a204f7572206f662072616e67652c2063616e206e6f74207265616044820152736420616464726573732066726f6d20627974657360601b60648201526084016102e9565b50016020015160601c90565b81516000906108df836020610dec565b111561094a5760405162461bcd60e51b815260206004820152603460248201527f42797465733a204f7572206f662072616e67652c2063616e206e6f7420726561604482015273642075696e743235362066726f6d20627974657360601b60648201526084016102e9565b50016020015190565b82516060906109628385610dec565b11156109cb5760405162461bcd60e51b815260206004820152603260248201527f42797465733a204f7572206f662072616e67652c2063616e206e6f7420726561604482015271642062797465732066726f6d20627974657360701b60648201526084016102e9565b60008267ffffffffffffffff8111156109e6576109e6610e85565b6040519080825280601f01601f191660200182016040528015610a10576020820181803683370190505b5090508360208601016020820160005b85811015610a38578281015182820152602001610a20565b50919695505050505050565b606060208251610a549190610e2f565b15610ab85760405162461bcd60e51b815260206004820152602e60248201527f42797465733a20696e76616c69642064617461206c656e6774682073686f756c60448201526d32103234bb34b2b210313c90199960911b60648201526084016102e9565b600060208351610ac89190610e04565b67ffffffffffffffff811115610ae057610ae0610e85565b604051908082528060200260200182016040528015610b09578160200160208202803683370190505b5090508251602084016020830160005b83811015610b335782810151825260209182019101610b19565b509295945050505050565b6000600160026000828254610b539190610dec565b92505081905550600160036000828254610b6d9190610dec565b90915550506002805460009081526004602090815260408083208690559254858352600590915282822081905591518492917f68e0867601a98978930107aee7f425665e61edd70ca594c68ca5da9e81f84c2991a3505060025490565b600060208284031215610bdc57600080fd5b81516001600160a01b038116811461084157600080fd5b600060208284031215610c0557600080fd5b8151801515811461084157600080fd5b600060208284031215610c2757600080fd5b5035919050565b60008060208385031215610c4157600080fd5b823567ffffffffffffffff80821115610c5957600080fd5b818501915085601f830112610c6d57600080fd5b813581811115610c7c57600080fd5b866020828501011115610c8e57600080fd5b60209290920196919550909350505050565b600060208284031215610cb257600080fd5b813567ffffffffffffffff80821115610cca57600080fd5b818401915084601f830112610cde57600080fd5b813581811115610cf057610cf0610e85565b604051601f8201601f19908116603f01168101908382118183101715610d1857610d18610e85565b81604052828152876020848701011115610d3157600080fd5b826020860160208301376000928101602001929092525095945050505050565b600060208083528351808285015260005b81811015610d7e57858101830151858201604001528201610d62565b81811115610d90576000604083870101525b50601f01601f1916929092016040019392505050565b60208082526026908201527f557365723a204f6e6c7920616c6c6f772063616c6c2066726f6d2073616d65206040820152653237b6b0b4b760d11b606082015260800190565b60008219821115610dff57610dff610e43565b500190565b600082610e1357610e13610e59565b500490565b600082821015610e2a57610e2a610e43565b500390565b600082610e3e57610e3e610e59565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fdfea2646970667358221220684565f64311d2702a9fa19710d02cda8f0b55f8f9dd6aff9cafd42e9b979aab64736f6c63430008060033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100885760003560e01c80638e5c50c51161005b5780638e5c50c514610187578063b68d1809146101aa578063f14fcbc8146101b2578063fca0a91c146101c557600080fd5b80631279b8b11461008d578063321489d4146100d05780635ab1bd531461014b57806372f12a5d14610166575b600080fd5b6040805180820182526000808252602091820152815180830183526003548082526002549183019182528351908152905191810191909152015b60405180910390f35b6101296100de366004610c15565b60408051606080820183526000808352602080840182905292840181905283519182018452848252848152600483528381205482840152938452600690915291819020549082015290565b60408051825181526020808401519082015291810151908201526060016100c7565b6000546040516001600160a01b0390911681526020016100c7565b610179610174366004610ca0565b610228565b6040519081526020016100c7565b61019a610195366004610c2e565b6105c8565b60405190151581526020016100c7565b600154610179565b6101796101c0366004610c15565b610777565b6101296101d3366004610c15565b6040805160608082018352600080835260208084018290529284018190529384526005825282842054835191820184528082528085526004835283852054828401528452600690915291819020549082015290565b600080546001546040516369d1cb4360e11b81526004810191909152654f7261636c6560d01b60248201819052916001600160a01b03169063d3a396869060440160206040518083038186803b15801561028157600080fd5b505afa158015610295573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102b99190610bca565b6001600160a01b0316336001600160a01b0316146102f25760405162461bcd60e51b81526004016102e990610da6565b60405180910390fd5b6054835110156103445760405162461bcd60e51b815260206004820181905260248201527f524e473a20496e7075742064617461206861732077726f6e6720666f726d617460448201526064016102e9565b60006103508482610848565b9050600061035f8560146108cf565b9050600061036e8660346108cf565b90506000806001600360008282546103869190610e18565b90915550505060008381526006602052604090819020549083901c915067ffffffffffffffff831690156103fc5760405162461bcd60e51b815260206004820152601d60248201527f526e673a205468697320736563726574207761732072657665616c656400000060448201526064016102e9565b6000848152600460209081526040918290205482519182018690529101604051602081830303815290604052805190602001201461047c5760405162461bcd60e51b815260206004820181905260248201527f526e673a2053656372657420646f65736e2774206d617463682064696765737460448201526064016102e9565b60008481526006602052604090208390556001600160a01b0385161561058d57846001600160a01b0316634122f9976104c56034808c516104bd9190610e18565b8c9190610953565b6040518263ffffffff1660e01b81526004016104e19190610d51565b602060405180830381600087803b1580156104fb57600080fd5b505af115801561050f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105339190610bf3565b61058d5760405162461bcd60e51b815260206004820152602560248201527f524e473a2043616e277420646f2063616c6c6261636b20746f20646973747269604482015264313aba37b960d91b60648201526084016102e9565b8082857f7162321ecace9c982905ec8d8000eb292887b6befedc98e18dbb27fa95e752d760405160405180910390a450919695505050505050565b600080546001546040516369d1cb4360e11b81526004810191909152654f7261636c6560d01b60248201819052916001600160a01b03169063d3a396869060440160206040518083038186803b15801561062157600080fd5b505afa158015610635573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106599190610bca565b6001600160a01b0316336001600160a01b0316146106895760405162461bcd60e51b81526004016102e990610da6565b60006106ca85858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610a4492505050565b905060005b815181101561076b5760006106fc8383815181106106ef576106ef610e6f565b6020026020010151610b3e565b116107595760405162461bcd60e51b815260206004820152602760248201527f524e473a20556e61626c6520746f206164642064696765737420746f20626c6f60448201526631b5b1b430b4b760c91b60648201526084016102e9565b610764600182610dec565b90506106cf565b50600195945050505050565b600080546001546040516369d1cb4360e11b81526004810191909152654f7261636c6560d01b60248201819052916001600160a01b03169063d3a396869060440160206040518083038186803b1580156107d057600080fd5b505afa1580156107e4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108089190610bca565b6001600160a01b0316336001600160a01b0316146108385760405162461bcd60e51b81526004016102e990610da6565b61084183610b3e565b9392505050565b8151600090610858836014610dec565b11156108c35760405162461bcd60e51b815260206004820152603460248201527f42797465733a204f7572206f662072616e67652c2063616e206e6f74207265616044820152736420616464726573732066726f6d20627974657360601b60648201526084016102e9565b50016020015160601c90565b81516000906108df836020610dec565b111561094a5760405162461bcd60e51b815260206004820152603460248201527f42797465733a204f7572206f662072616e67652c2063616e206e6f7420726561604482015273642075696e743235362066726f6d20627974657360601b60648201526084016102e9565b50016020015190565b82516060906109628385610dec565b11156109cb5760405162461bcd60e51b815260206004820152603260248201527f42797465733a204f7572206f662072616e67652c2063616e206e6f7420726561604482015271642062797465732066726f6d20627974657360701b60648201526084016102e9565b60008267ffffffffffffffff8111156109e6576109e6610e85565b6040519080825280601f01601f191660200182016040528015610a10576020820181803683370190505b5090508360208601016020820160005b85811015610a38578281015182820152602001610a20565b50919695505050505050565b606060208251610a549190610e2f565b15610ab85760405162461bcd60e51b815260206004820152602e60248201527f42797465733a20696e76616c69642064617461206c656e6774682073686f756c60448201526d32103234bb34b2b210313c90199960911b60648201526084016102e9565b600060208351610ac89190610e04565b67ffffffffffffffff811115610ae057610ae0610e85565b604051908082528060200260200182016040528015610b09578160200160208202803683370190505b5090508251602084016020830160005b83811015610b335782810151825260209182019101610b19565b509295945050505050565b6000600160026000828254610b539190610dec565b92505081905550600160036000828254610b6d9190610dec565b90915550506002805460009081526004602090815260408083208690559254858352600590915282822081905591518492917f68e0867601a98978930107aee7f425665e61edd70ca594c68ca5da9e81f84c2991a3505060025490565b600060208284031215610bdc57600080fd5b81516001600160a01b038116811461084157600080fd5b600060208284031215610c0557600080fd5b8151801515811461084157600080fd5b600060208284031215610c2757600080fd5b5035919050565b60008060208385031215610c4157600080fd5b823567ffffffffffffffff80821115610c5957600080fd5b818501915085601f830112610c6d57600080fd5b813581811115610c7c57600080fd5b866020828501011115610c8e57600080fd5b60209290920196919550909350505050565b600060208284031215610cb257600080fd5b813567ffffffffffffffff80821115610cca57600080fd5b818401915084601f830112610cde57600080fd5b813581811115610cf057610cf0610e85565b604051601f8201601f19908116603f01168101908382118183101715610d1857610d18610e85565b81604052828152876020848701011115610d3157600080fd5b826020860160208301376000928101602001929092525095945050505050565b600060208083528351808285015260005b81811015610d7e57858101830151858201604001528201610d62565b81811115610d90576000604083870101525b50601f01601f1916929092016040019392505050565b60208082526026908201527f557365723a204f6e6c7920616c6c6f772063616c6c2066726f6d2073616d65206040820152653237b6b0b4b760d11b606082015260800190565b60008219821115610dff57610dff610e43565b500190565b600082610e1357610e13610e59565b500490565b600082821015610e2a57610e2a610e43565b500390565b600082610e3e57610e3e610e59565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fdfea2646970667358221220684565f64311d2702a9fa19710d02cda8f0b55f8f9dd6aff9cafd42e9b979aab64736f6c63430008060033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
